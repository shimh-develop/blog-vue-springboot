webpackJsonp([11],{"+708":function(e,t,n){"use strict";var o={name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"}},mounted:function(){var e=this;n("JAHf"),this.$nextTick(function(){e.initParticleJS(e.color,e.particleOpacity,e.particlesNumber,e.shapeType,e.particleSize,e.linesColor,e.linesWidth,e.lineLinked,e.lineOpacity,e.linesDistance,e.moveSpeed,e.hoverEffect,e.hoverMode,e.clickEffect,e.clickMode)})},methods:{initParticleJS:function(e,t,n,o,a,i,r,c,u,s,l,d,f,m,p){particlesJS("particles-js",{particles:{number:{value:n,density:{enable:!0,value_area:800}},color:{value:e},shape:{type:o,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5}},opacity:{value:t,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:a,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:c,distance:s,color:i,opacity:u,width:r},move:{enable:!0,speed:l,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:d,mode:f},onclick:{enable:m,mode:p},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}},a={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"particles-js",color:e.color,particleOpacity:e.particleOpacity,linesColor:e.linesColor,particlesNumber:e.particlesNumber,shapeType:e.shapeType,particleSize:e.particleSize,linesWidth:e.linesWidth,lineLinked:e.lineLinked,lineOpacity:e.lineOpacity,linesDistance:e.linesDistance,moveSpeed:e.moveSpeed,hoverEffect:e.hoverEffect,hoverMode:e.hoverMode,clickEffect:e.clickEffect,clickMode:e.clickMode}})},staticRenderFns:[]},i=n("VU/8")(o,a,!1,null,null,null);t.a=i.exports},"2hfY":function(e,t,n){"use strict";t.a=function(e){var t=new Date(e),n=(Date.now()-t)/1e3;if(n<30)return"刚刚";if(n<3600)return Math.ceil(n/60)+"分钟前";if(n<86400)return Math.ceil(n/3600)+"小时前";if(n<172800)return"1天前";return e}},"33ZO":function(e,t,n){"use strict";var o={name:"BaseHeader",props:{activeIndex:String,simple:{type:Boolean,default:!1}},data:function(){return{}},computed:{user:function(){return{login:0!=this.$store.state.account.length,avatar:this.$store.state.avatar}}},methods:{logout:function(){var e=this,t=this;this.$store.dispatch("logout").then(function(){e.$router.push({path:"/"})}).catch(function(e){"error"!==e&&t.$message({message:e,type:"error",showClose:!0})})}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-header",{staticClass:"me-area"},[o("el-row",{staticClass:"me-header"},[o("el-col",{staticClass:"me-header-left",attrs:{span:4}},[o("router-link",{staticClass:"me-title",attrs:{to:"/"}},[o("img",{attrs:{src:n("dLd/")}})])],1),e._v(" "),e.simple?[e._t("default")]:o("el-col",{attrs:{span:16}},[o("el-menu",{attrs:{router:!0,"menu-trigger":"click","active-text-color":"#5FB878","default-active":e.activeIndex,mode:"horizontal"}},[o("el-menu-item",{attrs:{index:"/"}},[e._v("首页")]),e._v(" "),o("el-menu-item",{attrs:{index:"/category/all"}},[e._v("文章分类")]),e._v(" "),o("el-menu-item",{attrs:{index:"/archives"}},[e._v("文章归档")]),e._v(" "),o("el-menu-item",{attrs:{index:"/Board"}},[e._v("留言板")]),e._v(" "),o("el-col",{attrs:{span:4,offset:0}},[o("el-menu-item",{attrs:{index:"/write"}},[o("i",{staticClass:"el-icon-edit"}),e._v("写文章")])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-menu",{attrs:{router:!0,"menu-trigger":"click",mode:"horizontal","active-text-color":"#5FB878"}},[e.user.login?[o("el-submenu",{attrs:{index:""}},[o("template",{slot:"title"},[o("img",{staticClass:"me-header-picture",attrs:{src:e.user.avatar}})]),e._v(" "),o("el-menu-item",{attrs:{index:""},on:{click:e.logout}},[o("i",{staticClass:"el-icon-back"}),e._v("退出")])],2)]:[o("el-menu-item",{attrs:{index:"/login"}},[o("el-button",{attrs:{type:"text"}},[e._v("登录")])],1),e._v(" "),o("el-menu-item",{attrs:{index:"/register"}},[o("el-button",{attrs:{type:"text"}},[e._v("注册")])],1)]],2)],1)],2)],1)},staticRenderFns:[]};var i=n("VU/8")(o,a,!1,function(e){n("rGfa")},null,null);t.a=i.exports},"7xIN":function(e,t){},"9dSF":function(e,t){},E0w6:function(e,t){},IcnI:function(e,t,n){"use strict";var o=n("//Fk"),a=n.n(o),i=n("NYxO"),r=n("7+uW"),c=n("Moy7"),u=n("M9A7");r.default.use(i.a),t.a=new i.a.Store({state:{id:"",account:"",name:"",avatar:"",token:Object(c.a)()},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_ACCOUNT:function(e,t){e.account=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ID:function(e,t){e.id=t}},actions:{login:function(e,t){var n=e.commit;return new a.a(function(e,o){Object(u.c)(t.account,t.password).then(function(t){n("SET_TOKEN",t.data["Oauth-Token"]),Object(c.c)(t.data["Oauth-Token"]),e()}).catch(function(e){o(e)})})},getUserInfo:function(e){var t=e.commit;e.state;return new a.a(function(e,n){Object(u.b)().then(function(n){n.data?(t("SET_ACCOUNT",n.data.account),t("SET_NAME",n.data.nickname),t("SET_AVATAR",n.data.avatar),t("SET_ID",n.data.id)):(t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(c.b)()),e(n)}).catch(function(e){n(e)})})},logout:function(e){var t=e.commit;e.state;return new a.a(function(e,n){Object(u.d)().then(function(n){t("SET_TOKEN",""),t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(c.b)(),e()}).catch(function(e){n(e)})})},fedLogOut:function(e){var t=e.commit;return new a.a(function(e){t("SET_TOKEN",""),t("SET_ACCOUNT",""),t("SET_NAME",""),t("SET_AVATAR",""),t("SET_ID",""),Object(c.b)(),e()}).catch(function(e){reject(e)})},register:function(e,t){var n=e.commit;return new a.a(function(e,o){Object(u.e)(t.account,t.nickname,t.password).then(function(t){n("SET_TOKEN",t.data["Oauth-Token"]),Object(c.c)(t.data["Oauth-Token"]),e()}).catch(function(e){o(e)})})}}})},M9A7:function(e,t,n){"use strict";t.c=function(e,t){var n={account:e,password:t};return Object(o.a)({url:"/login",method:"post",data:n})},t.d=function(){return Object(o.a)({url:"/logout",method:"get"})},t.b=function(){return Object(o.a)({url:"/users/currentUser",method:"get"})},t.e=function(e,t,n){var a={name:e,password:t};return Object(o.a)({url:"/register/"+n,method:"post",data:a})};var o=n("OOvn");t.a={sendsms:function(e){return Object(o.a)({url:"/sendsms/"+e,method:"post"})},register:function(e,t){return Object(o.a)({url:"/register/"+t,method:"post",data:e})}}},Moy7:function(e,t,n){"use strict";t.a=function(){return localStorage.token},t.c=function(e){return localStorage.token=e},t.b=function(){return localStorage.removeItem("token")}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("fCJj");var o=n("qBF2"),a=n.n(o),i=n("7+uW"),r={name:"GoTop",data:function(){return{topShow:!1}},methods:{toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.topShow=!1},needToTop:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.topShow=e>200}},mounted:function(){this.$nextTick(function(){window.addEventListener("scroll",this.needToTop)})}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.topShow,expression:"topShow"}],staticClass:"me-to-top",on:{click:this.toTop}},[t("i",{staticClass:"el-icon-caret-top"})])])},staticRenderFns:[]};var u={name:"App",components:{GoTop:n("VU/8")(r,c,!1,function(e){n("E0w6")},null,null).exports}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("go-top")],1)},staticRenderFns:[]};var l=n("VU/8")(u,s,!1,function(e){n("YL2e")},null,null).exports,d=(n("mM94"),n("2X9z")),f=n.n(d),m=n("/ocq"),p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-footer",{staticClass:"me-area"},[t("div",{staticClass:"me-footer"},[t("p",[this._v("\n  Copyright © 2020-2021 Personal open source project. All rights reserved.\n    ")])])])},staticRenderFns:[]};var h=n("VU/8")({name:"BaseFooter",data:function(){return{}},methods:{},mounted:function(){}},p,!1,function(e){n("9dSF")},null,null).exports,v={name:"Home",data:function(){return{activeIndex:"/",footerShow:!0}},components:{"base-header":n("33ZO").a,"base-footer":h},beforeRouteEnter:function(e,t,n){n(function(t){t.activeIndex=e.path})},beforeRouteUpdate:function(e,t,n){"/"==e.path?this.footerShow=!0:this.footerShow=!1,this.activeIndex=e.path,n()}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"home"}},[t("el-container",[t("base-header",{attrs:{activeIndex:this.activeIndex}}),this._v(" "),t("router-view",{staticClass:"me-container"}),this._v(" "),t("base-footer",{directives:[{name:"show",rawName:"v-show",value:this.footerShow,expression:"footerShow"}]})],1)],1)},staticRenderFns:[]};var y=n("VU/8")(v,b,!1,function(e){n("mr9e")},null,null).exports,w=n("IcnI"),g=n("Moy7");i.default.use(m.a);var _=new m.a({mode:"hash",routes:[{path:"/write/:id?",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){return e(n("tgdm"))}.bind(null,n)).catch(n.oe)},meta:{requireLogin:!0}},{path:"",name:"Home",component:y,children:[{path:"/",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){return e(n("mlqX"))}.bind(null,n)).catch(n.oe)}},{path:"/archives/:year?/:month?",component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){return e(n("3/TF"))}.bind(null,n)).catch(n.oe)}},{path:"/Board",component:function(e){return n.e(4).then(function(){return e(n("+eH1"))}.bind(null,n)).catch(n.oe)}},{path:"/view/:id",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){return e(n("u66k"))}.bind(null,n)).catch(n.oe)}},{path:"/:type/all",component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){return e(n("4fko"))}.bind(null,n)).catch(n.oe)}},{path:"/:type/:id",component:function(e){return Promise.all([n.e(0),n.e(9)]).then(function(){return e(n("8wPo"))}.bind(null,n)).catch(n.oe)}}]},{path:"/login",component:function(e){return n.e(6).then(function(){return e(n("lmfZ"))}.bind(null,n)).catch(n.oe)}},{path:"/register",component:function(e){return n.e(7).then(function(){return e(n("tcoL"))}.bind(null,n)).catch(n.oe)}}],scrollBehavior:function(e,t,n){return{x:0,y:0}}});_.beforeEach(function(e,t,n){Object(g.a)()?"/login"===e.path?n({path:"/"}):0===w.a.state.account.length?w.a.dispatch("getUserInfo").then(function(e){n()}).catch(function(){n({path:"/"})}):n():e.matched.some(function(e){return e.meta.requireLogin})?f()({type:"warning",showClose:!0,message:"请先登录哦"}):n()});var T=_,E=(n("wEm8"),n("M4fF")),x=n.n(E),S=(n("7xIN"),n("2hfY"));i.default.config.productionTip=!1,i.default.use(a.a),Object.defineProperty(i.default.prototype,"$_",{value:x.a}),i.default.directive("title",function(e,t){document.title=e.dataset.title}),i.default.filter("format",S.a),new i.default({el:"#app",router:T,store:w.a,template:"<App/>",components:{App:l}})},OOvn:function(e,t,n){"use strict";var o=n("2X9z"),a=n.n(o),i=n("//Fk"),r=n.n(i),c=n("mtWM"),u=n.n(c),s=n("IcnI"),l=n("Moy7"),d=u.a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:1e4});d.interceptors.request.use(function(e){return s.a.state.token&&(e.headers["Oauth-Token"]=Object(l.a)()),e},function(e){r.a.reject(e)}),d.interceptors.response.use(function(e){"timeout"==e.headers.session_time_out&&s.a.dispatch("fedLogOut");var t=e.data;return 0!==t.code?90001===t.code?r.a.reject("error"):20001===t.code?(console.info("用户未登录"),a()({type:"warning",showClose:!0,message:"未登录或登录超时，请重新登录哦"}),r.a.reject("error")):70001===t.code?(console.info("权限认证错误"),a()({type:"warning",showClose:!0,message:"你没有权限访问哦"}),r.a.reject("error")):r.a.reject(t.msg):e.data},function(e){return a()({type:"warning",showClose:!0,message:"连接超时"}),r.a.reject("error")}),t.a=d},YL2e:function(e,t){},"dLd/":function(e,t,n){e.exports=n.p+"static/img/logo.74319af.png"},fCJj:function(e,t){},mr9e:function(e,t){},rGfa:function(e,t){},wEm8:function(e,t){!function(){function e(e,t,n){return e.getAttribute(t)||n}function t(e){return document.getElementsByTagName(e)}function n(){a=l.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=l.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function o(){var e,t,n,c,u,s;m.clearRect(0,0,a,i),b.forEach(function(o,l){for(o.x+=o.xa,o.y+=o.ya,o.xa*=o.x>a||o.x<0?-1:1,o.ya*=o.y>i||o.y<0?-1:1,m.fillRect(o.x-.5,o.y-.5,1,1),t=l+1;t<r.length;t++)null!==(e=r[t]).x&&null!==e.y&&(c=o.x-e.x,u=o.y-e.y,(s=c*c+u*u)<e.max&&(e===v&&s>=e.max/2&&(o.x-=.03*c,o.y-=.03*u),n=(e.max-s)/e.max,m.beginPath(),m.lineWidth=n/2,m.strokeStyle="rgba("+d.c+","+(n+.2)+")",m.moveTo(o.x,o.y),m.lineTo(e.x,e.y),m.stroke()))}),p(o)}var a,i,r,c,u,s,l=document.createElement("canvas"),d=(c=t("script"),u=c.length,s=c[u-1],{l:u,z:e(s,"zIndex",-1),o:e(s,"opacity",.5),c:e(s,"color","0,0,0"),n:e(s,"count",99)}),f="c_n"+d.l,m=l.getContext("2d"),p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/45)},h=Math.random,v={x:null,y:null,max:2e4};l.id=f,l.style.cssText="position:fixed;top:0;left:0;z-index:"+d.z+";opacity:"+d.o,t("body")[0].appendChild(l),n(),window.onresize=n,window.onmousemove=function(e){e=e||window.event,v.x=e.clientX,v.y=e.clientY},window.onmouseout=function(){v.x=null,v.y=null};for(var b=[],y=0;d.n>y;y++){var w=h()*a,g=h()*i,_=2*h()-1,T=2*h()-1;b.push({x:w,y:g,xa:_,ya:T,max:6e3})}r=b.concat([v]),setTimeout(function(){o()},100)}()}},["NHnr"]);
//# sourceMappingURL=app.b107cf63c98e5c8d125d.js.map